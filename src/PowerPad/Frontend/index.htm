<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=no, maximum-scale=1.0" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<title>PowerPad</title>
		<style>
			* {
				padding: 0;
				margin: 0;
				font-family: Verdana;
			}

			html, body {
				width: 100%;
				height: 100%;
				overflow: hidden;
			}

			#nextSlideImg {
				/* This stretches the image to fit, but we'll accept it for simplicity */
				width: 100%;
				height: 100%;
			}
		</style>
		<script src="jquery-2.0.3.min.js"></script>
	
		<script>
			var currentSlideNumberOnDisplay = null;

			$(function () {
				// Update the display once a second
				setInterval(updateDisplay, 1000);
			});
			
			function updateDisplay() {
				// Get fresh data
				$.ajax({
					url: '/slideshowdata/'
				}).done(function (data) {
					
					// Update the slide image, but only if slide has changed
					if (currentSlideNumberOnDisplay != data.currentSlideNumber) {
						$("#nextSlideImg").attr("src", "/slideimage/?Number=" + (data.currentSlideNumber + 1));
						currentSlideNumberOnDisplay = data.currentSlideNumber;
					}
					
				});
			}
		</script>
	</head>
	<body>
		<img id="nextSlideImg" />
	</body>
</html>